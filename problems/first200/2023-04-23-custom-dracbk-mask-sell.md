---
title: 커스텀 문제, 마스크 사재기

date: 2023-4-23

categories:
  - 문제풀이

tags:
  - Exercise
---

# 문제요약

코로나가 발발하였다. 예지력이 있던 경영이는 한 달 전에 마스크를 엄청나게 많이 사 창고에 쌓아두었다. 이제 하루에 한 박스 씩 팔아 수익을 극대화 하려고한다. 경영이는 예지력이 있어서 일자별 마스크 한 박스의 시세를 알 수 있다. 또한 사재기 단속을 피하기 위해서 연속하여 3일 동안 마스크를 팔지 않으려고 한다. 일자별 마스크 시세가 길이가 n인 배열로 주어질 때, 수익의 최대를 반환하라. 

- 마스크는 무한대로 보유하고 있다.
- n은 1이상 20,000 이하이다. 


# 문제접근

1. t일에 마스크를 팔 수 있는 경우는 2가지 경우, 팔 수 없는 경우는 한 가지 경우가 있다.
        
        마스크를 팔 수 있는 경우: 
            - 하루 앞 선 날에 마스크를 팔지 않은 경우.
            - 하루 앞 선 날에는 마스크를 팔았지만, 이틀 앞 선 날에는 마스크를 팔지 않은 경우.
        마스크를 팔 수 없는 경우: 
            - 앞 선 이틀 연속으로 이미 마스크를 판 경우.

2. t일까지의 수익을 최대를 다음 중 하나이다. 이전까지의 최대 수익을 바탕으로 t일의 최대 수익을 구할 수 있기 떄문에 DP개념으로 풀 수 있다.

        1. t일에 마스크 팔지 않기 + t-1일까지의 최대 수익
        2. t일에 마스크 팔기 + t-2일까지의 최대 수익 
        3. t일에 마스크 팔기 + t-1일에 마스크 팔기 + t-2일에 마스크를 안 팔았을 때 최대 수익

3. 세 번째 경우 때문에 특정한 일 t일에 대해서 그날 마스크를 팔았을 때 최대 수익과, 팔지 않았을 때 최대 수익을 나누어 저장해줘야한다. 

# 테스트 케이스

1. [1, 4, 3] => 7
2. [1, 5, 5, 1, 2] => 12
3. [8, 7, 7, 1, 2, 9, 1, 3] => 29


# 코드

```python
mask_prices = list(map(int, input().split()))

dp = [[0, 0] for i in range(len(mask_prices))]
dp[0][0] = 0
dp[0][1] = mask_prices[0]
dp[1][0] = mask_prices[0]
dp[1][1] = mask_prices[0] + mask_prices[1]
for i in range(2, len(mask_prices)):
    dp[i][0] = max(dp[i-1])
    dp[i][1] = max(mask_prices[i] + max(dp[i-2]), mask_prices[i] + mask_prices[i-1] + dp[i-2][0])

print(max(dp[len(mask_prices)-1]))

```
