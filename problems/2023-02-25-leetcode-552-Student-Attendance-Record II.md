---
title: LeetCode, 552. Student Attendance Record II

date: 2023-2-25

categories:
  - ë¬¸ì œí’€ì´

tags:
  - Exercise
  - ğŸ§‘ğŸ»â€ğŸ’»
---

# [ë¬¸ì œìš”ì•½](https://leetcode.com/problems/student-attendance-record-ii/)

ê²°ì„ì„ A, ì§€ê°ì„ L, ì¶œì„ì„ Pë¡œ í‘œí˜„í•œë‹¤. í†µí‹€ì–´ ì§€ê°ì„ 2íšŒ ë¯¸ë§Œìœ¼ë¡œ í•˜ê³ , ì—°ì†ìœ¼ë¡œ 3ë²ˆ ì´ìƒ ì§€ê°í•œ ì ì´ ì—†ìœ¼ë©´ ê°œê·¼ìƒì„ ë°›ì„ ìˆ˜ ìˆë‹¤. nì¼ ë™ì•ˆ ìˆ˜ì—…ì´ ìˆì—ˆë‹¤ê³  í•  ë•Œ, ê°œê·¼ìƒì„ ë°›ì„ ìˆ˜ ìˆëŠ” ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ì˜ ê°œìˆ˜ë¥¼ ë°˜í™˜í•˜ë¼.

- 1 <= n <= 100,000
- ë‹µì´ ë§¤ìš° ì»¤ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ 10^9 + 7ë¡œ ëª¨ë“ˆë¡œ ì—°ì‚°ì„ í•œ ê°’ì„ ë°˜í™˜í•˜ë¼.

# ë¬¸ì œì ‘ê·¼

1. ë¬¸ì œë¥¼ ë” ì‘ì€ ë¬¸ì œë¡œ ìª¼ê°œì–´ í’€ë ¤ê³  í–ˆë‹¤. nì¼ì— ëŒ€í•´ì„œ ê°œê·¼ìƒì„ ë°›ëŠ” ê²½ìš°ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ìª¼ê°œì§„ë‹¤.

- 1ì¼ì— ê²°ì„í•˜ê³  ë‚˜ë¨¸ì§€ n-1ì¼ì— ê²°ì„ í•œ ë²ˆ ë„ ì•ˆ í•˜ê³  ê°œê·¼ìƒ ë°›ëŠ” ì¡°ê±´ ì¶©ì¡±í•˜ê¸°
- 1ì¼ì— ì§€ê°í•˜ê³  ë’¤ ì´ì€ 2ì¼ì— ëŒ€í•´ì„œ ì—°ì†ìœ¼ë¡œ ì§€ê° ì•ˆí•˜ê³ , ë‚˜ë¨¸ì§€ n-3ì¼ì— ëŒ€í•´ ê°œê·¼ìƒ ë°›ëŠ” ì¡°ê±´ ì¶©ì¡±í•˜ê¸°
- 1ì¼ì— ì¶œì„í•˜ê³  ë’¤ ì´ì€ n-1ì¼ ëŒ€í•´ ê°œê·¼ìƒ ë°›ëŠ” ì¡°ê±´ ì¶©ì¡±í•˜ê¸°

2. ì§€ê°ì„ í•œ ë’¤ì˜ ê²½ìš°ê°€ ë‹¤ì†Œ ë³µì¡í•˜ë‹¤. LLLì´ ë‚˜ì˜¤ë©´ ì•ˆ ë˜ê¸° ë•Œë¬¸ì—, LAì¸ ê²½ìš°, LPì¸ ê²½ìš°, LLAì¸ ê²½ìš°, LLPì¸ ê²½ìš°ë¥¼ ë”í•´ì„œ ê²½ìš°ì˜ ìˆ˜ë¥¼ êµ¬í•´ì¤„ ìˆ˜ ìˆë‹¤. ì—£ì§€ì¼€ì´ìŠ¤ë¡œ nì´ 2 ì´í•˜ì¸ ê²½ìš°, LA, LP, LL (LLA, LLPê°€ ì•„ë‹˜) ì´ë ‡ê²Œ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ì´ ë¶€ë¶„ë„ ì‹ ê²½ ì¨ì¤˜ì•¼ í•œë‹¤.

3. ë² ì´ìŠ¤ ì¼€ì´ìŠ¤(ifë¬¸ê³¼ dpë¡œ í‘œí˜„ë¨)ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

- ê²°ì„ íšŸìˆ˜ ì´ˆê³¼ì‹œ 0 : ê²½ìš°ì˜ ìˆ˜ ì¡°ê±´ ë§Œì¡± X
- ê²°ì„ ë‚¨ê³ , nì´ 1ì´ë©´ 3 : A, L, P ê°€ëŠ¥
- ê²°ì„ ì—†ê³  nì´ 1ì´ë©´ 2: L, P ê°€ëŠ¥
- nì´ 0ì´ë©´ 1: ê·¸ ì•ê¹Œì§€ ì„ íƒí•œ í•œ ê°€ì§€ ê²½ìš° ê°€ëŠ¥ (ì„ íƒ ì—†ì´ ëë‚´ëŠ” í•œ ê°€ì§€ ê²½ìš° ê°€ëŠ¥)
- nì´ ìŒìˆ˜ë©´ 0: ê¸¸ì´ ì¡°ê±´ ë§Œì¡± X

4. ê²°ì„ íšŸìˆ˜ì™€ nì— ëŒ€í•´ì„œ ì—¬ëŸ¬ë²ˆ ê²¹ì¹˜ëŠ” í˜¸ì¶œì´ ìˆìœ¼ë¯€ë¡œ ë©”ëª¨ì´ì œì´ì…˜ìœ¼ë¡œ íš¨ìœ¨í™” í•´ì¤„ ìˆ˜ ìˆë‹¤.

# êµ¬í˜„

1. ê¸°ì¡´ ë©”ì˜ë“œì—ëŠ” ê²°ì„ ê°€ëŠ¥ì¼ ìˆ˜ë¥¼ ë°›ëŠ” ë§¤ê°œë³€ìˆ˜ê°€ ì—†ì–´ì„œ í•´ë‹¹ ë³€ìˆ˜ë¥¼ ê°€ì§€ë„ë¡ í•¨ìˆ˜ ì˜¤ë²„ë¡œë”©ì„ í•˜ì˜€ë‹¤.

2. ì¡°ê±´ìƒ ëª¨ë“ˆë¡œ ì—°ì‚°ì„ í•´ì¤˜ì•¼ í•˜ëŠ”ë°, ê°œìˆ˜ë¥¼ êµ¬í•  ë•Œ ë¹¼ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ í•´ì£¼ë©´ ëª¨ë“ˆë¡œ ì—°ì‚°ì„ ì•Œë§ê²Œ ì ìš©í•´ì£¼ê¸°ê°€ í˜ë“¤ë‹¤. ëª¨ë“ˆë¡œ ì—°ì‚°ì€ ë‹¤ìŒê³¼ ê°™ì€ ë¶„ë°° ë²•ì¹™ì„ ê°€ì§€ê³  ìˆë‹¤. ë”°ë¼ì„œ ëº„ì…ˆì„ ì“°ì§€ì•Šê³  ë§ì…ˆë§Œì„ í™œìš©í•´ì£¼ëŠ” ê²ƒì´ í¸í•˜ë‹¤.

> (A + B) % P = ((A % P) + (B % P)) % P

> (A - B) % P = ((A % P) - (B % P) + P) % P

# ì½”ë“œ

```java
class Solution {
    private char[] type = new char[]{'A', 'L', 'P'};
    private int[][] dp;
    private long moduloOperand = Math.round(Math.pow(10, 9) + 7);

    public int checkRecord(int n){
        dp = new int[2][n+1];
        for(int i = 0; i < dp.length; i += 1){
            Arrays.fill(dp[i], -1);
        }
        dp[0][1] = 2;
        dp[1][1] = 3;
        return checkRecord(n, 1);
    }

    public int checkRecord(int n, int absentLeft) {
        if(n < 0 || absentLeft < 0){
            return 0;
        }
        if(n == 0){
            return 1;
        }
        if(dp[absentLeft][n] != -1){
            return dp[absentLeft][n];
        }
        long totalCases = 0;
        for(char c : type){
            if(c == 'A'){
                totalCases += checkRecord(n-1, absentLeft - 1);
            }
            if(c == 'L'){
                totalCases += checkRecord(n-2, absentLeft);
                totalCases += checkRecord(n-2, absentLeft-1);
                if(n >= 3){
                    totalCases += checkRecord(n-3, absentLeft-1);
                    totalCases += checkRecord(n-3, absentLeft);
                } else {
                    totalCases += 1;
                }
            }
            if(c == 'P'){
                totalCases += checkRecord(n-1, absentLeft);
            }
        }
        dp[absentLeft][n] = (int) (totalCases % moduloOperand);
        return dp[absentLeft][n];
    }
}
```
